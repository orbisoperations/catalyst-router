# Generated by catalyst-rpi-config v1.0.0
# Mode: native | Device: rpi5
# Re-run `catalyst-rpi-config` to regenerate, or edit this file directly.
#
# Equivalent CLI command:
#   catalyst-rpi-config \
#     --non-interactive \
#     --mode native \
#     --device rpi5 \
#     --hostname catalyst-node \
#     --username catalyst \
#     --password "your-password" \
#     --no-wifi \
#     --no-ssh-pubkey \
#     --no-cloudflared \
#     --peering-secret "your-peering-secret" \
#     -o dist/rpi

# Base OS: Debian 12 (Bookworm) minimal with systemd, apt, SSH
include:
  file: bookworm-minbase.yaml

# Target device and login credentials
device:
  layer: rpi5 # Hardware: Raspberry Pi 5
  hostname: catalyst-node
  user1: catalyst # Login username
  user1pass: your-password # Login password (change after first boot)

# Disk image layout
image:
  layer: image-rpios # Standard MBR boot + root partition
  boot_part_size: '200%'
  root_part_size: '400%'
  name: catalyst-node-image

# Layers to include in the build.
# Each entry pulls in a layer YAML and its transitive dependencies.
# Remove a line to exclude that feature from the image.
layer:
  otel: catalyst-otel # OpenTelemetry Collector (native binary)
  app: catalyst-node # Catalyst Node composite server

# OpenTelemetry Collector version.
# Binary downloaded from github.com/open-telemetry/opentelemetry-collector-releases
otel:
  version: '0.145.0'

# Catalyst Node settings. See: catalyst-node --help for all options
catalyst:
  node_id: '' # Unique identifier (auto-generated on first boot if empty)
  peering_secret: your-peering-secret # iBGP peering shared secret
  domains: '' # Comma-separated trusted domains
  port: '3000' # Composite server listen port
  bootstrap_token: '' # Initial auth bootstrap token
  log_level: info # debug, info, warn, error
